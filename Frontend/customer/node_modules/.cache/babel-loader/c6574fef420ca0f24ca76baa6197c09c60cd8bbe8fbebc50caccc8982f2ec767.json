{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import{useDispatch}from\"react-redux\";import{addCart}from\"../redux/action\";import Skeleton from\"react-loading-skeleton\";import\"react-loading-skeleton/dist/skeleton.css\";import{Link}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export const Products=()=>{const[data,setData]=useState([]);const[filter,setFilter]=useState(data);const[loading,setLoading]=useState(false);let componentMounted=true;const dispatch=useDispatch();const addProduct=product=>{dispatch(addCart(product));};useEffect(()=>{const getProducts=async()=>{setLoading(true);const response=await fetch(\"/customer/get-products\");if(componentMounted){setData(await response.clone().json());setFilter(await response.json());setLoading(false);}return()=>{componentMounted=false;};};getProducts();},[]);const Loading=()=>{return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-12 py-5 text-center\",children:/*#__PURE__*/_jsx(Skeleton,{height:40,width:560})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4 col-sm-6 col-xs-8 col-12 mb-4\",children:/*#__PURE__*/_jsx(Skeleton,{height:592})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4 col-sm-6 col-xs-8 col-12 mb-4\",children:/*#__PURE__*/_jsx(Skeleton,{height:592})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4 col-sm-6 col-xs-8 col-12 mb-4\",children:/*#__PURE__*/_jsx(Skeleton,{height:592})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4 col-sm-6 col-xs-8 col-12 mb-4\",children:/*#__PURE__*/_jsx(Skeleton,{height:592})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4 col-sm-6 col-xs-8 col-12 mb-4\",children:/*#__PURE__*/_jsx(Skeleton,{height:592})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4 col-sm-6 col-xs-8 col-12 mb-4\",children:/*#__PURE__*/_jsx(Skeleton,{height:592})})]});};const filterProduct=cat=>{const updatedList=data.filter(item=>item.category===cat);setFilter(updatedList);};const ShowProducts=()=>{return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"buttons text-center py-5\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline-dark btn-sm m-2\",onClick:()=>setFilter(data),children:\"All\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline-dark btn-sm m-2\",onClick:()=>filterProduct(\"men's clothing\"),children:\"Men's Clothing\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline-dark btn-sm m-2\",onClick:()=>filterProduct(\"women's clothing\"),children:\"Women's Clothing\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline-dark btn-sm m-2\",onClick:()=>filterProduct(\"jewelery\"),children:\"Jewelery\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline-dark btn-sm m-2\",onClick:()=>filterProduct(\"electronics\"),children:\"Electronics\"})]}),filter.map(product=>{return/*#__PURE__*/_jsx(\"div\",{id:product.id,className:\"col-md-4 col-sm-6 col-xs-8 col-12 mb-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card text-center h-100\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"card-img-top p-3\",src:product.image,alt:\"Card\",height:300}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsxs(\"h5\",{className:\"card-title\",children:[product.title.substring(0,12),\"...\"]}),/*#__PURE__*/_jsxs(\"p\",{className:\"card-text\",children:[product.description.substring(0,90),\"...\"]})]}),/*#__PURE__*/_jsx(\"ul\",{className:\"list-group list-group-flush\",children:/*#__PURE__*/_jsxs(\"li\",{className:\"list-group-item lead\",children:[\"$ \",product.price]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(Link,{to:\"/product/\"+product.id,className:\"btn btn-dark m-1\",children:\"Buy Now\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-dark m-1\",onClick:()=>addProduct(product),children:\"Add to Cart\"})]})]},product.id)},product.id);})]});};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"container my-3 py-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-12\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"display-5 text-center\",children:\"Latest Products\"}),/*#__PURE__*/_jsx(\"hr\",{})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"row justify-content-center\",children:loading?/*#__PURE__*/_jsx(Loading,{}):/*#__PURE__*/_jsx(ShowProducts,{})})]})});};export default Products;","map":{"version":3,"names":["React","useState","useEffect","useDispatch","addCart","Skeleton","Link","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","Products","data","setData","filter","setFilter","loading","setLoading","componentMounted","dispatch","addProduct","product","getProducts","response","fetch","clone","json","Loading","children","className","height","width","filterProduct","cat","updatedList","item","category","ShowProducts","onClick","map","id","src","image","alt","title","substring","description","price","to"],"sources":["C:/Users/tanis/OneDrive/Desktop/ERP/Frontend/customer/src/components/Products.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { addCart } from \"../redux/action\";\r\n\r\nimport Skeleton from \"react-loading-skeleton\";\r\nimport \"react-loading-skeleton/dist/skeleton.css\";\r\n\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport const Products = () => {\r\n  const [data, setData] = useState([]);\r\n  const [filter, setFilter] = useState(data);\r\n  const [loading, setLoading] = useState(false);\r\n  let componentMounted = true;\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const addProduct = (product) => {\r\n    dispatch(addCart(product))\r\n  }\r\n\r\n  useEffect(() => {\r\n    const getProducts = async () => {\r\n      setLoading(true);\r\n      const response = await fetch(\"/customer/get-products\");\r\n      if (componentMounted) {\r\n        setData(await response.clone().json());\r\n        setFilter(await response.json());\r\n        setLoading(false);\r\n      }\r\n\r\n      return () => {\r\n        componentMounted = false;\r\n      };\r\n    };\r\n\r\n    getProducts();\r\n  }, []);\r\n\r\n  const Loading = () => {\r\n    return (\r\n      <>\r\n        <div className=\"col-12 py-5 text-center\">\r\n          <Skeleton height={40} width={560} />\r\n        </div>\r\n        <div className=\"col-md-4 col-sm-6 col-xs-8 col-12 mb-4\">\r\n          <Skeleton height={592} />\r\n        </div>\r\n        <div className=\"col-md-4 col-sm-6 col-xs-8 col-12 mb-4\">\r\n          <Skeleton height={592} />\r\n        </div>\r\n        <div className=\"col-md-4 col-sm-6 col-xs-8 col-12 mb-4\">\r\n          <Skeleton height={592} />\r\n        </div>\r\n        <div className=\"col-md-4 col-sm-6 col-xs-8 col-12 mb-4\">\r\n          <Skeleton height={592} />\r\n        </div>\r\n        <div className=\"col-md-4 col-sm-6 col-xs-8 col-12 mb-4\">\r\n          <Skeleton height={592} />\r\n        </div>\r\n        <div className=\"col-md-4 col-sm-6 col-xs-8 col-12 mb-4\">\r\n          <Skeleton height={592} />\r\n        </div>\r\n      </>\r\n    );\r\n  };\r\n\r\n  const filterProduct = (cat) => {\r\n    const updatedList = data.filter((item) => item.category === cat);\r\n    setFilter(updatedList);\r\n  }\r\n  const ShowProducts = () => {\r\n    return (\r\n      <>\r\n        <div className=\"buttons text-center py-5\">\r\n          <button className=\"btn btn-outline-dark btn-sm m-2\" onClick={() => setFilter(data)}>All</button>\r\n          <button className=\"btn btn-outline-dark btn-sm m-2\" onClick={() => filterProduct(\"men's clothing\")}>Men's Clothing</button>\r\n          <button className=\"btn btn-outline-dark btn-sm m-2\" onClick={() => filterProduct(\"women's clothing\")}>\r\n            Women's Clothing\r\n          </button>\r\n          <button className=\"btn btn-outline-dark btn-sm m-2\" onClick={() => filterProduct(\"jewelery\")}>Jewelery</button>\r\n          <button className=\"btn btn-outline-dark btn-sm m-2\" onClick={() => filterProduct(\"electronics\")}>Electronics</button>\r\n        </div>\r\n\r\n        {filter.map((product) => {\r\n          return (\r\n            <div id={product.id} key={product.id} className=\"col-md-4 col-sm-6 col-xs-8 col-12 mb-4\">\r\n              <div className=\"card text-center h-100\" key={product.id}>\r\n                <img\r\n                  className=\"card-img-top p-3\"\r\n                  src={product.image}\r\n                  alt=\"Card\"\r\n                  height={300}\r\n                />\r\n                <div className=\"card-body\">\r\n                  <h5 className=\"card-title\">\r\n                    {product.title.substring(0, 12)}...\r\n                  </h5>\r\n                  <p className=\"card-text\">\r\n                    {product.description.substring(0, 90)}...\r\n                  </p>\r\n                </div>\r\n                <ul className=\"list-group list-group-flush\">\r\n                  <li className=\"list-group-item lead\">$ {product.price}</li>\r\n                  {/* <li className=\"list-group-item\">Dapibus ac facilisis in</li>\r\n                    <li className=\"list-group-item\">Vestibulum at eros</li> */}\r\n                </ul>\r\n                <div className=\"card-body\">\r\n                  <Link to={\"/product/\" + product.id} className=\"btn btn-dark m-1\">\r\n                    Buy Now\r\n                  </Link>\r\n                  <button className=\"btn btn-dark m-1\" onClick={() => addProduct(product)}>\r\n                    Add to Cart\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n          );\r\n        })}\r\n      </>\r\n    );\r\n  };\r\n  return (\r\n    <>\r\n      <div className=\"container my-3 py-3\">\r\n        <div className=\"row\">\r\n          <div className=\"col-12\">\r\n            <h2 className=\"display-5 text-center\">Latest Products</h2>\r\n            <hr />\r\n          </div>\r\n        </div>\r\n        <div className=\"row justify-content-center\">\r\n          {loading ? <Loading /> : <ShowProducts />}\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Products;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}